<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pencatat Pesanan Telur</title>
<link rel="stylesheet" href="./style.css" />
<link rel="manifest" href="./manifest.json" />
</head>
<body>
<header>
  <h1>üì¶ Pencatat Pesanan Telur</h1>
  <p class="muted">Satuan: 1 papan = 30 butir, 1 ikat = 5 papan = 150 butir</p>
</header>

<main>
  <section class="card">
    <h2>Daftar Harga (ubah jika perlu)</h2>
    <button id="toggleHargaBtn" class="btn">Tampilkan Harga</button>      
    <div id="hargaSection" class="price-row">
      <label>Harga per Butir (Rp)
        <input id="priceButir" type="number" value="2000" />
      </label>
      <label>Harga per Papan (Rp)
        <input id="pricePapan" type="number" value="55000" />
      </label>
      <label>Harga per Ikat (Rp)
        <input id="priceIkat" type="number" value="250000" />
      </label>
      <button id="savePrices" class="small">Simpan Harga</button>
    </div>
  </section>


  <section class="card">
    <h2>Tambah Pesanan</h2>
    <label>Nama Pembeli
      <input id="buyer" placeholder="Nama pembeli" />
    </label>

    <label>No. Telp
      <input id="phone" placeholder="08xx..." />
    </label>

    <label>Tanggal Order
      <input id="orderDate" type="date" />
    </label>

    <label>Tanggal Antar
      <input id="deliverDate" type="date" />
    </label>

    <label>Jenis Penjualan
      <select id="unit">
        <option value="papan">Papan (30 butir)</option>
        <option value="butir">Butir</option>
        <option value="ikat">Ikat (150 butir)</option>
      </select>
    </label>

    <label>Jumlah
      <input id="quantity" type="number" min="1" value="1" />
    </label>

    <label>Harga Satuan (Rp)
      <input id="price" type="number" readonly style="background:#f2f2f2;" />
    </label>

    <label>Total (Rp)
      <input id="total" type="number" readonly readonly style="background:#f2f2f2;" />
    </label>

    <label>Cara Bayar
      <select id="paymentMethod">
        <option value="transfer">Transfer</option>
        <option value="cash">Cash</option>
      </select>
    </label>

    <label>Status Pembayaran
      <select id="status">
        <option value="belum">Belum Lunas</option>
        <option value="lunas">Lunas</option>
      </select>
    </label>

    <label>Catatan
      <input id="note" placeholder="Catatan (opsional)" />
    </label>

    <div class="row">
      <button id="addBtn">Tambah Pesanan</button>
      <button id="clearBtn" class="muted">Bersihkan Form</button>
    </div>
  </section>

  

  <section class="card">
    <h2>Daftar Pesanan</h2>
    <div id="summary" class="summary"></div>
    <ul id="orders"></ul>
  </section>
</main>

<button id="checkUpdateBtn">Periksa Update</button>
<button id="applyUpdateBtn">Terapkan Update</button>
<p id="updateStatus"></p>

<footer>
  <p class="muted">Aplikasi offline ‚Äî data tersimpan di perangkat Anda.</p>
</footer>

<script src="./app.js"></script>
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('./sw.js');
}
</script>


<div id="toast" class="toast">
  <div class="toast-icon">‚úîÔ∏è</div>
  <div class="toast-text" id="toastMessage">Pesanan tersimpan!</div>
</div>

<style>
#applyUpdateBtn {
            background: #ff9800;
            color: white;
            border: none;
            padding: 10px;
            margin-top: 10px;
            display: none;
            border-radius: 5px;
        }
#checkUpdateBtn {
            background: #2196f3;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
        }

#toggleHargaBtn {
  background: #2196f3;   /* warna biru */
  color: white;
  border: none;
}


.price-row {
  display: none;
}

.toast {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.8);
  background: #28a745; /* hijau sukses */
  color: white;
  padding: 14px 18px;
  border-radius: 10px;
  display: flex;
  gap: 10px;
  align-items: center;
  min-width: 230px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.25);
  font-size: 16px;
  opacity: 0;
  transition: bottom 0.4s ease, opacity 0.4s ease;
  z-index: 9999;
}

.toast.show {
  transform: translate(-50%, -50%) scale(1);
  opacity: 1;
}

.toast-icon {
  font-size: 20px;
}

.toast-text {
  flex: 1;
}
</style>


</body>
</html>
